<div class="container">
	<h1>Créer un Mouvement</h1>

	<%= form_with(model: @commitment, url:  admin_commitments_path, method: "post") do |f| %>
		<fieldset class="form-group">

			<h5 class="mt-3">Informations du Mouvement</h5>
			<p><label>Titre</label>
			<%= f.text_field :title, class:"form-control border" %></p>
			<p><label>Description</label>
			<%= f.text_field :description, class:"form-control border" %></p>

			<h5 class="mt-3">Thèmes</h5>
			<%= f.fields_for :commitment_themes do |ct_form| %>
				<%= ct_form.label "Thème principal" %>
				<%= ct_form.select :theme_id, Theme.all.collect { |t| [t.title, t.id] }, { :prompt => '1 Thème minimum' }, class: "form-control border" %>
			<% end %>

			<h5 class="mt-3">Sources</h5>
			<%= f.fields_for :sources do |s_form| %>
				<%= s_form.label "Titre" %>
				<%= s_form.text_field :title, class: "form-control border" %>

				<%= s_form.label "Média" %>
				<%= s_form.text_field :media, class: "form-control border" %>

				<%= s_form.label "URL" %>
				<%= s_form.text_field :url, class: "form-control border" %>

				<%= s_form.label "Description" %>
				<%= s_form.text_field :description, class: "form-control border" %>

				<%= s_form.label "Catégorie" %>
				<%= s_form.select :category, ["Presse", "Étude", "Manifeste", "Association"], { :prompt => 'Choisir une Catégorie' }, class: "form-control border" %>
			<% end %>

		</fieldset>

		<button type='submit' class='btn btn-primary'>Créer</button>

	<% end %>
</div>
